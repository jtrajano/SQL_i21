/*
 * File: app/view/OriginConversionOptionViewModel.js
 *
 * This file was generated by Sencha Architect version 3.2.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.0.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Inventory.view.OriginConversionOptionViewModel', {
    extend: 'Ext.app.ViewModel',
    alias: 'viewmodel.icoriginconversionoption',

    data: {
        lineOfBusiness: '',
        currentTask: 'LOB',
        states: []
    },

    isOnStep: function(states, lineOfBusiness, step) {
        if(states && states.length > 0) {
            // var state = _.findWhere(states, { lob: lineOfBusiness });
            var state = null;
            for(var i = 0; i < states.length; i++) {
                if(states[i].lob === lineOfBusiness) {
                    state = states[i];
                    break;
                }
            }
            var enabled = state && state.step === step && state.lob === lineOfBusiness;
            return !enabled;
        }
        return true;
    },

    getState: function(states, lineOfBusiness) {
        if(states && states.length > 0) {
            var state = _.findWhere(states, { lob: lineOfBusiness });
            return state;
        }
        return null;
    },

    formulas: {
        hasLob: function(get) {
            return !iRely.Functions.isEmpty(get('lineOfBusiness'));
        },
        
        disableLob: function(get) {
            return false;
        },

        disableUOM: function(get) {
            return this.isOnStep(get('states'), get('lineOfBusiness'), 'UOM');
        },

        disableLocations: function(get) {
            return this.isOnStep(get('states'), get('lineOfBusiness'), 'Locations');
        },

        disableCommodity: function(get) {
            return this.isOnStep(get('states'), get('lineOfBusiness'), 'Commodity');
        },

        disableCategoryClass: function(get) {
            return this.isOnStep(get('states'), get('lineOfBusiness'), 'CategoryClass');
        },

        disableCategoryGLAccts: function(get) {
            return this.isOnStep(get('states'), get('lineOfBusiness'), 'CategoryGLAccts');
        },

        disableItems: function(get) {
            return this.isOnStep(get('states'), get('lineOfBusiness'), 'Items');
        },

        disableItemGLAccts: function(get) {
            return this.isOnStep(get('states'), get('lineOfBusiness'), 'ItemGLAccts');
        },

        disableBalance: function(get) {
            return this.isOnStep(get('states'), get('lineOfBusiness'), 'Balance');
        },
        
        disableRecipeFormula: function(get){
            return this.isOnStep(get('states'), get('lineOfBusiness'), 'RecipeFormula');
        }
    }
});