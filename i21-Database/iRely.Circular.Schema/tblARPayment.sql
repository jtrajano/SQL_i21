CREATE TABLE [dbo].[tblARPayment] (
    [intPaymentId]			INT             IDENTITY (1, 1) NOT NULL,
    [intEntityCustomerId]   INT             NOT NULL,
    [intCurrencyId]			INT             NOT NULL,
    [dtmDatePaid]			DATETIME        NULL,
    [intAccountId]			INT             NULL,
	[intBankAccountId]		INT             NULL,
    [intPaymentMethodId]	INT             NOT NULL,
    [intLocationId]			INT             NULL,
    [dblAmountPaid]			NUMERIC (18, 6) NULL,
	[dblBaseAmountPaid]		NUMERIC (18, 6) NULL,
    [dblUnappliedAmount]	NUMERIC (18, 6) NULL,
	[dblBaseUnappliedAmount]	NUMERIC (18, 6) NULL,
    [dblOverpayment]		NUMERIC (18, 6) NULL,
	[dblBaseOverpayment]	NUMERIC (18, 6) NULL,
    [dblBalance]			NUMERIC (18, 6) NULL,
	[dblExchangeRate]		NUMERIC (18, 6) NULL,
	[strReceivePaymentType]	NVARCHAR (25)   COLLATE Latin1_General_CI_AS NULL,
    [strRecordNumber]		NVARCHAR (25)   COLLATE Latin1_General_CI_AS NULL,
    [strPaymentInfo]		NVARCHAR (50)   COLLATE Latin1_General_CI_AS NULL,
    [strNotes]				NVARCHAR (250)  COLLATE Latin1_General_CI_AS NULL,
	[ysnApplytoBudget]		BIT				NULL,
	[ysnApplyOnAccount]		BIT				CONSTRAINT [DF_tblARPayment_ysnApplyOnAccount] DEFAULT ((0)) NULL,
    [ysnPosted]				BIT             CONSTRAINT [DF_tblARPayment_ysnPosted] DEFAULT ((0)) NOT NULL,
	[ysnInvoicePrepayment]	BIT             CONSTRAINT [DF_tblARPayment_ysnInvoicePrepayment] DEFAULT ((0)) NOT NULL,
	[ysnImportedFromOrigin]	BIT				CONSTRAINT [DF_tblARPayment_ysnImportedFromOrigin] DEFAULT ((0)) NOT NULL,
	[ysnImportedAsPosted]	BIT				CONSTRAINT [DF_tblARPayment_ysnImportedAsPosted] DEFAULT ((0)) NOT NULL,		
	[intEntityId]			INT				NULL DEFAULT ((0)),
	[intWriteOffAccountId]	INT				NULL,
	[intCurrencyExchangeRateTypeId]	INT		NULL,
	[strPaymentMethod]		NVARCHAR (100)  COLLATE Latin1_General_CI_AS NULL,
	[intEntityCardInfoId]	INT				NULL,
	[ysnProcessCreditCard]	BIT				CONSTRAINT [DF_tblARPayment_ysnProcessCreditCard] DEFAULT ((0)) NULL,
	[ysnProcessedToNSF]		BIT				CONSTRAINT [DF_tblARPayment_ysnProcessedToNSF] DEFAULT ((0)) NULL,
	[dblTotalAR]			NUMERIC (18, 6) NULL,
	[strBatchId]			NVARCHAR (20)	COLLATE Latin1_General_CI_AS NULL,	
	[dtmBatchDate]			DATETIME		NULL,
	[intPostedById]			INT				NULL,
	[intMBILPaymentId]		INT				NULL,
	[intCurrentStatus]		INT				NULL,
    [intConcurrencyId]		INT             CONSTRAINT [DF_tblARPayment_intConcurrencyId] DEFAULT ((0)) NOT NULL,    
    CONSTRAINT [PK_tblARPayment_intPaymentId] PRIMARY KEY CLUSTERED ([intPaymentId] ASC),
    CONSTRAINT [FK_tblARPayment_tblARCustomer_intEntityCustomerId] FOREIGN KEY ([intEntityCustomerId]) REFERENCES [dbo].[tblARCustomer] ([intEntityId]),
	CONSTRAINT [FK_tblARPayment_tblGLAccount_intAccountId] FOREIGN KEY ([intAccountId]) REFERENCES [dbo].[tblGLAccount] ([intAccountId]),
	CONSTRAINT [FK_tblARPayment_tblCMBankAccount_intBankAccountId] FOREIGN KEY ([intBankAccountId]) REFERENCES [dbo].[tblCMBankAccount] ([intBankAccountId]),
	CONSTRAINT [FK_tblARPayment_tblEMEntityCardInformation_intEntityCardInfoId] FOREIGN KEY ([intEntityCardInfoId]) REFERENCES [dbo].[tblEMEntityCardInformation] ([intEntityCardInfoId]),
	CONSTRAINT [FK_tblARPayment_tblSMCurrencyExchangeRateType_intCurrencyExchangeRateTypeId] FOREIGN KEY ([intCurrencyExchangeRateTypeId]) REFERENCES [dbo].[tblSMCurrencyExchangeRateType] ([intCurrencyExchangeRateTypeId]),
	CONSTRAINT [FK_tblARPayment_tblMBILPayment_intPaymentId] FOREIGN KEY ([intMBILPaymentId]) REFERENCES [dbo].[tblMBILPayment] ([intPaymentId])
);

GO

