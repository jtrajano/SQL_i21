GO
PRINT N'BEGIN REPLICATION CONFIGURATION'

DECLARE @ListOfScreenTables TABLE(id INT IDENTITY(1,1) PRIMARY KEY, strScreen VARCHAR(max), strModule VARCHAR(max), strType VARCHAR(100));


INSERT INTO @ListOfScreenTables
VALUES      

--##****************************************************************************##
--##****************************************************************************##
--##************    		 Parent to Subsidiary            *******************##
--##****************************************************************************##
--##****************************************************************************##


--########################
--##   Entity Manager   ##---------------------------------------------------------------
--########################

	('Entities', 'Entity Management','Parent'),			

---------------------------------------------------------------------------------------------------




--########################
--##   System Manager   ##---------------------------------------------------------------
--########################

--##   SM Configuration
--##-----------------------------------------------------------------------------------------------

	('Company Configuration, Currency, Country and Terms', 'System Manager','Parent'),

---------------------------------------------------------------------------------------------------

--##   SM Language >> not exist in strNamespace in tblSMScreen
--##-----------------------------------------------------------------------------------------------


--##   SM Report Labels >> not exist in strNamespace in tblSMScreen
--##-----------------------------------------------------------------------------------------------
	('Report Labels and Language', 'System Manager','Parent'),

---------------------------------------------------------------------------------------------------

--##   SM Security Policy
--##-----------------------------------------------------------------------------------------------

	('Security Policy', 'System Manager','Parent'),

---------------------------------------------------------------------------------------------------

--##   SM Screen Labels >> not exist in strNamespace in tblSMScreen
--##-----------------------------------------------------------------------------------------------
		
	('Screen Label', 'System Manager','Parent'),

--## User and User Role
--##-----------------------------------------------------------------------------------------------

	('Users, User Roles, Security Policies, Line of Business, Company Location, Company Configuration (Multi Company) and Approval List', 'System Manager','Parent'),
---------------------------------------------------------------------------------------------------
	

--##   SM City
--##-----------------------------------------------------------------------------------------------
	
	('Cities', 'System Manager','Parent'),

---------------------------------------------------------------------------------------------------


--##   Company Location
--##-----------------------------------------------------------------------------------------------

	('Company Locations', 'System Manager','Parent'),
	
---------------------------------------------------------------------------------------------------
	
--##   SM Country
--##-----------------------------------------------------------------------------------------------

	( 'Countries', 'System Manager','Parent'),

---------------------------------------------------------------------------------------------------
		

--##   SM Currency
--## Currencies and Currency Exchange Rates and Currency Exchange Rate Types
--##-----------------------------------------------------------------------------------------------

	('Currencies, Currency Exchange Rates and Currency Exchange Rate Types', 'System Manager','Parent'),

---------------------------------------------------------------------------------------------------		
--##   SM FreightTerm
--##-----------------------------------------------------------------------------------------------

	('Freight Terms', 'System Manager','Parent'),	

---------------------------------------------------------------------------------------------------
		

--##   SM Line of Business
--##-----------------------------------------------------------------------------------------------

	('Line Of Business', 'System Manager','Parent'),	

---------------------------------------------------------------------------------------------------
		

--##   SM Payment Method
--##-----------------------------------------------------------------------------------------------

		('Payment Methods', 'System Manager','Parent'),

---------------------------------------------------------------------------------------------------
		

--##   Sm Ship Via
--##-----------------------------------------------------------------------------------------------

		('Ship Via', 'System Manager','Parent'),

---------------------------------------------------------------------------------------------------		


--##   SM Term
--##-----------------------------------------------------------------------------------------------
	('Terms', 'System Manager','Parent'),

---------------------------------------------------------------------------------------------------


--##   SM Approvals
--##-----------------------------------------------------------------------------------------------
	('Approvals', 'System Manager','Parent'),

---------------------------------------------------------------------------------------------------
		


--########################
--##   GENERAL LEDGER   ##------------------------------------------------------
--########################
		
--##   Account Groups
--##   Account Structure
--##   Chart of Accounts
--##   Fiscal Year
--##   Segment Account
--##   Account Range

	
--## Account Groups, Account Structure, Chart of Accounts, Fiscal Year, Segment Account and Account Range








--##-----------------------------------------------------------------------------------------------

	('Account Groups, Account Structure, Chart of Accounts, Fiscal Year, Segment Account and Account Range', 'General Ledger','Parent'),
	
---------------------------------------------------------------------------------------------------
		



--#########################
--##   Cash Management   ##------------------------------------------------------------------------  
--#########################


--##   CM Bank
--##-----------------------------------------------------------------------------------------------

		('Banks', 'Cash Management','Parent'),

---------------------------------------------------------------------------------------------------		


--CM Bank Accounts
--##-----------------------------------------------------------------------------------------------

	('BankAccounts and Bank File Format', 'Cash Management','Parent'),
	('BankAccounts and Bank File Format', 'Cash Management','Parent'),
---------------------------------------------------------------------------------------------------



--###################
--##   Inventory   ##-------------------------------------------------------------
--###################
--------------------------------------------------------------------------------


--##   IC Categories
--##-----------------------------------------------------------------------------------------------

	('Categories', 'Inventory','Parent'),	
---------------------------------------------------------------------------------------------------

--##   IC Commodities
--##-----------------------------------------------------------------------------------------------

	('Commodities', 'Inventory','Parent'),
		
---------------------------------------------------------------------------------------------------

--##   IC UOM
--##-----------------------------------------------------------------------------------------------

	('Inventory UOM', 'Inventory','Parent'),
		
---------------------------------------------------------------------------------------------------


--##   IC Items
--##-----------------------------------------------------------------------------------------------

	('Items', 'Inventory','Parent'),
	
---------------------------------------------------------------------------------------------------


--IC Storage Units
--##-----------------------------------------------------------------------------------------------

	('Storage Units', 'Inventory','Parent'),
	
---------------------------------------------------------------------------------------------------



--########################
--##   Purchasing(AP)   ##---------------------------------------------------------------------------
--########################


--##   Vendors
--##-----------------------------------------------------------------------------------------------

		('Vendors', 'Purchasing','Parent'),

---------------------------------------------------------------------------------------------------



--#################
--##   Sales(AR) ##------------------------------------------------------------------------------------
--#################


--##   Customer
--##-----------------------------------------------------------------------------------------------

		('Customer', 'Sales','Parent'),
	
---------------------------------------------------------------------------------------------------
		

--##   AR Sales Rep
--##-----------------------------------------------------------------------------------------------

		('Sales Rep', 'Sales','Parent'),
		('Sales Rep', 'Sales','Parent'),

---------------------------------------------------------------------------------------------------


 
--#############################
--##   Contract Management   ##------------------------------------------------------------------------
--#############################


--##   AOP Vs Actual ***
--##-----------------------------------------------------------------------------------------------
		('AOP Vs Actual', 'Contract Management','Parent'),
	
--##   Associations
--##-----------------------------------------------------------------------------------------------

		('Associations', 'Contract Management','Parent'),

---------------------------------------------------------------------------------------------------
		

--##   Certification ***
--##-----------------------------------------------------------------------------------------------
		('Certification', 'Contract Management','Parent'),


--##   Condition
--##-----------------------------------------------------------------------------------------------

		('Condition', 'Contract Management','Parent'),

---------------------------------------------------------------------------------------------------


--##   Contract Position ***
--##-----------------------------------------------------------------------------------------------
		('Contract Position', 'Contract Management','Parent'),


--##   Documents
--##-----------------------------------------------------------------------------------------------

		('Documents', 'Contract Management','Parent'),

---------------------------------------------------------------------------------------------------
		

--##   INCO/Ship Term ***
--##-----------------------------------------------------------------------------------------------

		('INCO/Ship Term', 'Contract Management','Parent'),

---------------------------------------------------------------------------------------------------
--##   Weight/Grades ***
--##-----------------------------------------------------------------------------------------------

		( 'Weight/Grades', 'Contract Management','Parent'),

---------------------------------------------------------------------------------------------------
 

--#################  
--##   Payroll   ##--------------------------------------------------------------------------------------
--#################


--##   PR Employee
--##-----------------------------------------------------------------------------------------------

		( 'Employee', 'Payroll','Parent'),
	
---------------------------------------------------------------------------------------------------



--#########################
--##   Risk Management   ##-------------------------------------------------------------------------------
--#########################


--##-----------------------------------------------------------------------------------------------
	--  Brokerage Account
		('Brokerage Account', 'Risk Management','Parent'),
	
---------------------------------------------------------------------------------------------------
		

	--  Futures Broker ***
		('Futures Broker', 'Risk Management','Parent'),
	
	--	Futures Market ***
		('Futures Market', 'Risk Management','Parent'),
	
	--	Futures Trading Month ***
		('Futures Trading Month', 'Risk Management','Parent'),		
	
	--	Options Trading Month ***
		('Options Trading Month', 'Risk Management','Parent'),		

	--	Settlement Price  ***
		('Settlement Price', 'Risk Management','Parent'),
		
	--	Basis Entry ***
		('Basis Entry', 'Risk Management','Parent'),	
		

--###################
--##   Logistics   ##-------------------------------------------------------------------------------------
--###################


--##   Container Types 
--##-----------------------------------------------------------------------------------------------

		('Container Types', 'Logistics','Parent'),
	
---------------------------------------------------------------------------------------------------

	
--##   Equipment Types ***
--##-----------------------------------------------------------------------------------------------

		('Equipment Types', 'Logistics','Parent'),


--##   Forwarding Agents ***
--##-----------------------------------------------------------------------------------------------
		('Forwarding Agents', 'Logistics','Parent'),


--##   Insurers	***		
--##-----------------------------------------------------------------------------------------------

		('Insurers', 'Logistics','Parent'),
	
--##   Reason Code 
--##-----------------------------------------------------------------------------------------------

		('Reason Code', 'Logistics','Parent'),

---------------------------------------------------------------------------------------------------
		
	
--##   Shipping Lines ***
--##-----------------------------------------------------------------------------------------------

		('Shipping Lines', 'Logistics','Parent'),
	
---------------------------------------------------------------------------------------------------	

--##   Shipping Mode 
--##-----------------------------------------------------------------------------------------------

		('Shipping Mode', 'Logistics','Parent'),
			
---------------------------------------------------------------------------------------------------
			

--##   Terminals ***
--##-----------------------------------------------------------------------------------------------

		('Terminals', 'Logistics','Parent'),
	

--##   Warehouse Rate Matrix 
--##-----------------------------------------------------------------------------------------------

		( 'Warehouse Rate Matrix', 'Logistics','Parent'),
	
---------------------------------------------------------------------------------------------------
		


--#################
--##   Quality   ##------------------------------------------------------------------------------
--#################


--##   Quality Parameters Quality Parameters
--##-----------------------------------------------------------------------------------------------

		('Quality Parameters', 'Quality','Parent'),


		
--#################
--##   Scale   ##------------------------------------------------------------------------------
--#################


--##   Quality Parameters Quality Parameters
--##-----------------------------------------------------------------------------------------------

		('Scale Station, Ticket Pool, Truck/Driver/Reference, Ticket Format(Print Out) and Physical Scale/Grade', 'Scale','Parent'),
	

	
--#################
--##   Manufacturing   ##------------------------------------------------------------------------------
--#################


--##   Quality Parameters Quality Parameters
--##-----------------------------------------------------------------------------------------------

		('Recipe, Machine, Manufacturing Process,Manufacturing Cell,Pack type, Shift, Schedule change over, and Schedule rule', 'Manufacturing','Parent'),
	
	
---------------------------------------------------------------------------------------------------
-------------				end of Parent to Subsidiary           ------------------------------
---------------------------------------------------------------------------------------------------



--*****************************************************************************
--*****************************************************************************
---***********    			 Subsidiary to Parent        **********************
--*****************************************************************************
--*****************************************************************************



--#############################
--##   Contract Management   ##-------------------------------------------------
--#############################


--## CT Contracts 
--##-----------------------------------------------------------------------------------------------

		('Contracts', 'Contract Management','Subsidiary'),
	
---------------------------------------------------------------------------------------------------
		

--###################
--##   Logistics   ##-----------------------------------------------------------------------------
--###################

--##   LG Load / Shipment Schedules
--##-----------------------------------------------------------------------------------------------

		('Load and Shipment Schedules', 'Logistics','Subsidiary'),

---------------------------------------------------------------------------------------------------

--##   LG Weight Claims
--##-----------------------------------------------------------------------------------------------

		('Weight Claims', 'Logistics','Subsidiary'),
	
---------------------------------------------------------------------------------------------------


--###################
--##   Inventory   ##--------------------------------------------------------------    
--###################

--##   IC Inventory Receipts
--##-----------------------------------------------------------------------------------------------

		('Inventory Receipts', 'Inventory','Subsidiary'),
	


---------------------------------------------------------------------------------------------------
		

--##   IC Inventory Shipments
--##-----------------------------------------------------------------------------------------------

		('Inventory Shipments', 'Inventory','Subsidiary'),
	
---------------------------------------------------------------------------------------------------


--##   IC Inventory Transfers
--##-----------------------------------------------------------------------------------------------

		('Inventory Transfers', 'Inventory','Subsidiary'),
	
---------------------------------------------------------------------------------------------------		


--##   IC Inventory Adjustment
--##-----------------------------------------------------------------------------------------------

		('Inventory Adjustment', 'Inventory','Subsidiary'),
	
---------------------------------------------------------------------------------------------------


--##   IC Inventory Count
--##-----------------------------------------------------------------------------------------------

		('Inventory Count', 'Inventory','Subsidiary'),
	
---------------------------------------------------------------------------------------------------		


--##   IC Inventory Transaction / Inventory Valuation
--##------------------------------------------------------------------------------------------------

		('Inventory Valuation', 'Inventory','Subsidiary'),
	

----------------------------------------------------------------------------------------------


--####################
--##   Purchasing   ##-------------------------------------------------------------------------
--####################

--##   AP Vouchers
--##------------------------------------------------------------------------------------------

		('Vouchers', 'Purchasing','Subsidiary'),
	

-----------------------------------------------------------------------------------------------



--###############
--##   Sales   ##------------------------------------------------------------------------------
--###############

--##   AR Invoices
--##------------------------------------------------------------------------------------------------


		('Invoices', 'Sales','Subsidiary'),
	

------------------------------------------------------------------------------------------------



--#########################
--##   Risk Management   ##---------------------------------------------------------------------
--#########################

--##   RM Derivative Entry
--##   RM Assign Derivative
--##   RM Match Derivative
--##   RM Option Lifecycle
--##------------------------------------------------------------------------------------------------


		('RM Derivative Entry, RM Assign Derivative, RM Match Derivative and RM Option Lifecycle', 'Risk Management','Subsidiary'),
	
--------------------------------------------------------------------------------------------------



--#################
--##   Quality   ##--------------------------------------------------------------------------------
--#################

--##   QM Sample Entry  	
--##------------------------------------------------------------------------------------------------


		('Sample Entry', 'Risk Management','Subsidiary'),
	
----------------------------------------------------------------------------------------------------

		
		
--########################		
--##   General Ledger   ##---------------------------------------------------------------------------
--########################

--##   GL Transaction
--##------------------------------------------------------------------------------------------------


	   ('Transaction', 'General Ledger','Subsidiary'), 
   
-----------------------------------------------------------------------------------------------------

--########################		
--##   Scale  ##---------------------------------------------------------------------------
--########################
--##------------------------------------------------------------------------------------------------

 ('Scale Transaction', 'Scale','Subsidiary'), 
   
-----------------------------------------------------------------------------------------------------



--########################		
--##   Manufacturing  ##---------------------------------------------------------------------------
--########################
--##------------------------------------------------------------------------------------------------

 ('Blend production, Process production, FG Production, Bag off, Work Order, Production calendar, and Work Order Schedule', 'Manufacturing','Subsidiary') 
   
-----------------------------------------------------------------------------------------------------



		
		DECLARE @id int,
				@intModuleId int,
				@intScreenId int,
				@intReplicationTableId int,
				@intReplicationConfigurationId int,
				@table NVARCHAR(MAX),
				@strScreen NVARCHAR(MAX),
				@strType NVARCHAR(MAX),
				@module NVARCHAR(MAX);


		WHILE  (SELECT TOP 1 count(*) FROM @ListOfScreenTables) != 0
		BEGIN

			SET @table = null;
			SET @strScreen  = null;
			SET	@module = null;
			SELECT Top 1 @id = id,  @strScreen = strScreen, @module = strModule, @strType = strType FROM @ListOfScreenTables;		


			SET @intModuleId = null;
			SELECT @intModuleId = intModuleId FROM tblSMModule WHERE strModule = @module
			
		
			IF @intModuleId IS NOT NULL
			BEGIN
		
				IF NOT EXISTS(SELECT TOP 1 1 FROM tblSMReplicationConfiguration WHERE intModuleId = @intModuleId AND strScreen = @strScreen)
				BEGIN
						INSERT INTO tblSMReplicationConfiguration (intModuleId, strScreen, strType, ysnEnabled, ysnCommitted, intConcurrencyId)
						VALUES (@intModuleId, @strScreen, @strType, 1, 1, 0)
				END
			END

			DELETE from @ListOfScreenTables  WHERE id = @id
		END		





PRINT N'END OF REPLICATION CONFIGURATION'



