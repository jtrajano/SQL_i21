CREATE TABLE [dbo].[tblCTContractBalanceLog]
(
	[intContractBalanceLogId] INT IDENTITY NOT NULL, 
	[strBatchId] NVARCHAR (100) COLLATE Latin1_General_CI_AS NULL,
	[intActionId] INT NULL,
	[strAction] NVARCHAR (100) COLLATE Latin1_General_CI_AS NULL,
	[dtmTransactionDate] DATETIME,
	[dtmCreatedDate] DATETIME,
	[strTransactionType] NVARCHAR (100) COLLATE Latin1_General_CI_AS NULL,
	[strTransactionReference] NVARCHAR (100) COLLATE Latin1_General_CI_AS NULL,
	[intTransactionReferenceId] INT NOT NULL,
	[intTransactionReferenceDetailId] INT NULL,
	[strTransactionReferenceNo] NVARCHAR (50) COLLATE Latin1_General_CI_AS NULL,
	[intContractDetailId] INT NOT NULL,
	[intContractHeaderId] INT NOT NULL,
    [strContractNumber] NVARCHAR (50) COLLATE Latin1_General_CI_AS NULL,
	[intContractSeq] INT NOT NULL,
	[intContractTypeId] INT NOT NULL, 
    [intEntityId] INT NOT NULL, 
    [intCommodityId] INT NOT NULL,
	[intItemId] INT NOT NULL,
	[intLocationId] INT NULL,
	[intPricingTypeId] INT NOT NULL,
	[intFutureMarketId] INT NULL,
	[intFutureMonthId] INT NULL,
	[dblBasis] NUMERIC(24, 10) NULL DEFAULT((0)),
	[dblFutures] NUMERIC(24, 10) NULL DEFAULT((0)),
	[intQtyUOMId] INT NULL,
	[intQtyCurrencyId] INT NULL,
	[intBasisUOMId] INT NULL,
	[intBasisCurrencyId] INT NULL,
	[intPriceUOMId] INT NULL,
	[dtmStartDate] DATETIME,
	[dtmEndDate] DATETIME,
	[dblQty] NUMERIC(24, 10) NULL DEFAULT((0)),
	[dblOrigQty] NUMERIC(24, 10) NULL,
	[intContractStatusId] INT NOT NULL,
	[intBookId] INT NULL,
	[intSubBookId] INT NULL,
	[strNotes] NVARCHAR(100) COLLATE Latin1_General_CI_AS NULL,
	[ysnNegated] BIT DEFAULT((0)) NULL,
	[intRefContractBalanceId] INT NULL,
	intUserId INT NULL, 
	[intRefSummaryLogId] INT NULL, 
	[strProcess] NVARCHAR (100) COLLATE Latin1_General_CI_AS NULL,
	[strPricingStatus] NVARCHAR (100) COLLATE Latin1_General_CI_AS NULL,
	[ysnDeleted] BIT DEFAULT((0)) NULL,
	[intSourceId] int null
    CONSTRAINT [PK_tblCTContractBalanceLog] PRIMARY KEY ([intContractBalanceLogId]) 
)

GO

CREATE NONCLUSTERED INDEX [IX_tblCTContractBalanceLog_intContractHeaderId] ON [dbo].[tblCTContractBalanceLog] ([intContractHeaderId])
