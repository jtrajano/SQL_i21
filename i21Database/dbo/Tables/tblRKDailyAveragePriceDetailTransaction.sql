CREATE TABLE [dbo].[tblRKDailyAveragePriceDetailTransaction]
(
	[intDailyAveragePriceDetailTransactionId] INT NOT NULL IDENTITY, 
    [intDailyAveragePriceDetailId] INT NOT NULL, 
	[strTransactionType] NVARCHAR(50),
	[intFutOptTransactionId] INT NULL,
	[intRefDailyAveragePriceDetailId] INT NULL,
	[dtmTransactionDate] DATETIME NOT NULL, 
    [strEntity] NVARCHAR(100) COLLATE Latin1_General_CI_AS NULL,
    [dblCommission] NUMERIC(18,6) DEFAULT (0),
	[strBrokerageCommission] NVARCHAR(100) COLLATE Latin1_General_CI_AS NULL,
    [strInstrumentType] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
    [strLocation] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
    [strTrader] NVARCHAR(100) COLLATE Latin1_General_CI_AS NULL,
    [strCurrency] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
    [strInternalTradeNo] NVARCHAR(10) COLLATE Latin1_General_CI_AS NULL, 
    [strBrokerTradeNo] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL, 
    [strBuySell] NVARCHAR(10) COLLATE Latin1_General_CI_AS NULL, 
    [dblNoOfContract] NUMERIC(18,6) NULL, 
    [strOptionMonth] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
    [strOptionType] NVARCHAR(10) COLLATE Latin1_General_CI_AS NULL, 
    [dblStrike] NUMERIC(18, 6) NULL, 
    [dblPrice] NUMERIC(18, 6) NULL, 
    [strReference] NVARCHAR(250) COLLATE Latin1_General_CI_AS NULL, 
    [strStatus] NVARCHAR(250) COLLATE Latin1_General_CI_AS NULL, 
    [dtmFilledDate] DATETIME NULL, 
    [strReserveForFix] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL, 
    [ysnOffset] BIT NULL,
	[strBank] NVARCHAR(100) COLLATE Latin1_General_CI_AS NULL,
	[strBankAccount] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
	[strContractNo] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
	[strContractSequenceNo] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
	[strSelectedInstrumentType] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
	[strFromCurrency] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
	[strToCurrency] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
	[dtmMaturityDate] DATETIME NULL, 
	[dblContractAmount] NUMERIC(18, 6) NULL, 
	[dblExchangeRate]  NUMERIC(18, 6) NULL,
	[dblMatchAmount] NUMERIC(18, 6) NULL,
	[dblAllocatedAmount] NUMERIC(18, 6) NULL,
	[dblUnAllocatedAmount] NUMERIC(18, 6) NULL,
	[dblSpotRate] NUMERIC(18, 6) NULL,	
	[ysnLiquidation] BIT NULL,
	[ysnSwap] BIT,
	[strRefSwapTradeNo] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL, 
	[dtmCreateDateTime] DATETIME NULL, 
    [ysnFreezed] BIT NULL, 
    [ysnPreCrush] BIT NULL,
	[intDailyAveragePriceDetailTransactionRefId] INT NULL,
    [intConcurrencyId] INT NULL DEFAULT ((0)), 
    CONSTRAINT [PK_tblRKDailyAveragePriceTransaction] PRIMARY KEY ([intDailyAveragePriceDetailTransactionId]), 
    CONSTRAINT [FK_tblRKDailyAveragePriceTransaction_tblRKDailyAveragePriceDetail] FOREIGN KEY ([intDailyAveragePriceDetailId]) REFERENCES [tblRKDailyAveragePriceDetail]([intDailyAveragePriceDetailId]) ON DELETE CASCADE
)
