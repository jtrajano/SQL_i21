CREATE TABLE [dbo].[tblLGShippingInstruction]
(
[intShippingInstructionId] INT NOT NULL IDENTITY (1, 1),
[intConcurrencyId] INT NOT NULL, 
[intReferenceNumber] INT NOT NULL,
[dtmSIDate] DATETIME NOT NULL,
[strBookingNumber] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
[dtmBookingDate] DATETIME NULL,
[dtmShipmentDate] DATETIME NULL,
[intVendorEntityId] INT NOT NULL,
[intCustomerEntityId] INT NULL,
[strOriginPort] NVARCHAR(75) COLLATE Latin1_General_CI_AS NULL,
[strDestinationPort] NVARCHAR(75) COLLATE Latin1_General_CI_AS NULL,
[intShippingLineEntityId] INT NULL,
[strServiceContractNumber] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
[strViaCity] NVARCHAR(75) COLLATE Latin1_General_CI_AS NULL,
[intThroughShippingLineEntityId] INT NULL,
[strPackingDescription] NVARCHAR(75) COLLATE Latin1_General_CI_AS NULL,
[intNumberOfContainers] INT NULL,
[intContainerTypeId] INT NULL,
[strVessel] NVARCHAR(75) COLLATE Latin1_General_CI_AS NULL,
[strVoyageNumber] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
[strMarks] NVARCHAR(100) COLLATE Latin1_General_CI_AS NULL,
[strMarkingInstructions] NVARCHAR(200) COLLATE Latin1_General_CI_AS NULL,
[strShippingMode] NVARCHAR(75) COLLATE Latin1_General_CI_AS NULL,
[intForwardingAgentEntityId] INT NULL,
[intBLDraftToBeSentId] INT NULL,
[strBLDraftToBeSentType] NVARCHAR(75) COLLATE Latin1_General_CI_AS NULL,
[strDocPresentationType] NVARCHAR(75) COLLATE Latin1_General_CI_AS NULL,
[intDocPresentationId] INT NULL,
[strContactPerson] NVARCHAR(75) COLLATE Latin1_General_CI_AS NULL,
[intFirstNotifyId] INT NULL,
[intFirstNotifyLocationId] INT NULL,
[strFirstNotifyType] NVARCHAR(75) COLLATE Latin1_General_CI_AS NULL,
[strFirstNotifyText] NVARCHAR(200) COLLATE Latin1_General_CI_AS NULL,
[intSecondNotifyId] INT NULL,
[intSecondNotifyLocationId] INT NULL,
[strSecondNotifyType] NVARCHAR(75) COLLATE Latin1_General_CI_AS NULL,
[strSecondNotifyText] NVARCHAR(200) COLLATE Latin1_General_CI_AS NULL,
[intConsigneeId] INT NULL,
[intConsigneeLocationId] INT NULL,
[strConsigneeType] NVARCHAR(75) COLLATE Latin1_General_CI_AS NULL,
[strConsigneeText] NVARCHAR(200) COLLATE Latin1_General_CI_AS NULL,
[dblDemurrage] NUMERIC(18, 6) NULL,
[intDemurrageCurrencyId] INT NULL,
[dblDespatch] NUMERIC(18, 6) NULL,
[intDespatchCurrencyId] INT NULL,
[dblLoadingRate] NUMERIC(18, 6) NULL,
[intLoadingUnitMeasureId] INT NULL,
[strLoadingPerUnit] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
[dblDischargeRate] NUMERIC(18, 6) NULL,
[intDischargeUnitMeasureId] INT NULL,
[strDischargePerUnit] NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
[dtmETAPOL] DATETIME NULL,
[dtmETSPOL] DATETIME NULL,
[dtmETAPOD] DATETIME NULL,
[dtmDeadlineCargo] DATETIME NULL,
[dtmDeadlineBL] DATETIME NULL,
[dtmISFReceivedDate] DATETIME NULL,
[dtmISFFiledDate] DATETIME NULL,
[strComments] NVARCHAR(1024) COLLATE Latin1_General_CI_AS NULL,
[intCompanyLocationId] INT NULL, 
[intCommodityId] INT NULL, 


CONSTRAINT [PK_tblLGShippingInstruction_intShippingInstructionId] PRIMARY KEY ([intShippingInstructionId]), 

CONSTRAINT [FK_tblLGShippingInstruction_tblEntity_intVendorEntityId_intEntityId] FOREIGN KEY ([intVendorEntityId]) REFERENCES tblEMEntity([intEntityId]),
CONSTRAINT [FK_tblLGShippingInstruction_tblEntity_intCustomerEntityId_intEntityId] FOREIGN KEY ([intCustomerEntityId]) REFERENCES tblEMEntity([intEntityId]),
CONSTRAINT [FK_tblLGShippingInstruction_tblEntity_intShippingLineEntityId_intEntityId] FOREIGN KEY ([intShippingLineEntityId]) REFERENCES tblEMEntity([intEntityId]),
CONSTRAINT [FK_tblLGShippingInstruction_tblEntity_intThroughShippingLineEntityId_intEntityId] FOREIGN KEY ([intThroughShippingLineEntityId]) REFERENCES tblEMEntity([intEntityId]),

CONSTRAINT [FK_tblLGShippingInstruction_tblLGContainerType_intContainerTypeId] FOREIGN KEY ([intContainerTypeId]) REFERENCES [tblLGContainerType]([intContainerTypeId]),

CONSTRAINT [FK_tblLGShippingInstruction_tblEntity_intForwardingAgentEntityId_intEntityId] FOREIGN KEY ([intForwardingAgentEntityId]) REFERENCES tblEMEntity([intEntityId]),
CONSTRAINT [FK_tblLGShippingInstruction_tblSMCurrency_intDemurrageCurrencyId_intCurrencyID] FOREIGN KEY ([intDemurrageCurrencyId]) REFERENCES [tblSMCurrency]([intCurrencyID]),
CONSTRAINT [FK_tblLGShippingInstruction_tblSMCurrency_intDespatchCurrencyId_intCurrencyID] FOREIGN KEY ([intDespatchCurrencyId]) REFERENCES [tblSMCurrency]([intCurrencyID]),
CONSTRAINT [FK_tblLGShippingInstruction_tblICUnitMeasure_intLoadingUnitMeasureId_intUnitMeasureId] FOREIGN KEY ([intLoadingUnitMeasureId]) REFERENCES [tblICUnitMeasure]([intUnitMeasureId]),
CONSTRAINT [FK_tblLGShippingInstruction_tblICUnitMeasure_intDischargeUnitMeasureId_intUnitMeasureId] FOREIGN KEY ([intDischargeUnitMeasureId]) REFERENCES [tblICUnitMeasure]([intUnitMeasureId]),

CONSTRAINT [UK_tblLGShippingInstruction_intReferenceNumber] UNIQUE ([intReferenceNumber]),
CONSTRAINT [FK_tblLGShippingInstruction_tblSMCompanyLocation_intCompanyLocationId] FOREIGN KEY ([intCompanyLocationId]) REFERENCES [tblSMCompanyLocation]([intCompanyLocationId]),
CONSTRAINT [FK_tblLGShippingInstruction_tblICCommodity_intCommodityId] FOREIGN KEY ([intCommodityId]) REFERENCES [tblICCommodity]([intCommodityId])
)
