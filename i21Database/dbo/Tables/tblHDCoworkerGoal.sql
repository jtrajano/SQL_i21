CREATE TABLE [dbo].[tblHDCoworkerGoal]
(
	[intCoworkerGoalId]					INT IDENTITY(1,1) NOT NULL,
	[intEntityId]						INT			   NOT NULL,
    [strFiscalYear]						NVARCHAR(10) COLLATE Latin1_General_CI_AS NOT NULL,
	[intCurrencyId]						INT			   NOT NULL,
	[intUtilizationTargetAnnual]		INT			   NULL,
	[intUtilizationTargetWeekly]		INT			   NULL,
	[intUtilizationTargetMonthly]		INT			   NULL,
	[dblAnnualHurdle]					NUMERIC(18, 6) NULL DEFAULT 0, 
	[dblAnnualBudget]					NUMERIC(18, 6) NULL DEFAULT 0, 
	[intCommissionAccountId]				INT			   NULL,
	[intRevenueAccountId]				    INT			   NULL,
	[strGoal]							NVARCHAR(MAX) COLLATE Latin1_General_CI_AS NOT NULL,
	[strCommissionType]					NVARCHAR(50) COLLATE Latin1_General_CI_AS  NULL,
	[strCommissionRateType]				NVARCHAR(50) COLLATE Latin1_General_CI_AS  NULL,
	[dblCommissionRate]					NUMERIC(18, 6) NULL DEFAULT 0,
	[intReportsToId]					INT			   NULL,
	[strIncentiveType]					NVARCHAR(50) COLLATE Latin1_General_CI_AS  NULL,
	[strIncentiveRateType]				NVARCHAR(50) COLLATE Latin1_General_CI_AS  NULL,
	[dblIncentiveRate]					NUMERIC(18, 6) NULL DEFAULT 0, 
	[intConcurrencyId] [int]			NOT NULL DEFAULT 1,
	[ysnActive]							BIT	 NOT NULL	CONSTRAINT [DF_tblHDCoworkerGoal_ysnActive] DEFAULT ((0)),
	[ysnCanViewOtherCoworker]			BIT	 NOT NULL	CONSTRAINT [DF_tblHDCoworkerGoal_ysnCanViewOtherCoworker] DEFAULT ((0)),
	CONSTRAINT [PK_tblHDCoworkerGoal_intCoworkerGoalId] PRIMARY KEY CLUSTERED ([intCoworkerGoalId] ASC),
	CONSTRAINT [FK_tblHDCoworkerGoal_tblSMCurrency_intCurrencyId] FOREIGN KEY ([intCurrencyId]) REFERENCES [tblSMCurrency]([intCurrencyID]),
	CONSTRAINT [FK_tblHDCoworkerGoal_tblEMEntity_intEntityId] FOREIGN KEY ([intEntityId]) REFERENCES [tblEMEntity]([intEntityId]),
	CONSTRAINT [FK_tblHDCoworkerGoal_tblEMEntity_intReportsToId] FOREIGN KEY ([intReportsToId]) REFERENCES [tblEMEntity]([intEntityId]),
    CONSTRAINT [UQ_tblHDCoworkerGoal_intEntityId_strFiscalYear] UNIQUE ([intEntityId],[strFiscalYear]),
)

GO