CREATE PROCEDURE [dbo].[uspHDUpdateJiraIconUrl]
AS
BEGIN

SET QUOTED_IDENTIFIER OFF  
SET ANSI_NULLS ON  
SET NOCOUNT ON  
SET XACT_ABORT ON  
SET ANSI_WARNINGS ON  

	UPDATE JiraDetailToUpdate
	SET JiraDetailToUpdate.strJiraTypeIconUrl = CASE WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Bug%'
														THEN '<img height="16" width="16" title="Bug" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Bug.png"/>&nbsp-&nbspBug' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Bug-Ongoing UAP%'
														THEN '<img height="16" width="16" title="Bug-Ongoing UAP" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Bug-Ongoing UAP.png"/>&nbsp-&nbspBug-Ongoing UAP' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Bug-QC%'
														THEN '<img height="16" width="16" title="Bug-QC" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Bug-QC.png"/>&nbsp-&nbspBug-QC' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Bug-UAP%'
														THEN '<img height="16" width="16" title="Bug-UAP" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Bug-UAP.png"/>&nbsp-&nbspBug-UAP' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Data Fix%'
														THEN '<img height="16" width="16" title="Data Fix" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Data Fix.png"/>&nbsp-&nbspData Fix' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Epic%'
														THEN '<img height="16" width="16" title="Epic" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Epic.png"/>&nbsp-&nbspEpic' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Feature%'
														THEN '<img height="16" width="16" title="Feature" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Feature.png"/>&nbsp-&nbspFeature' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Gap%'
														THEN '<img height="16" width="16" title="Gap" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Gap.png"/>&nbsp-&nbspGap' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Integration%'
														THEN '<img height="16" width="16" title="Integration" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Integration.png"/>&nbsp-&nbspIntegration' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Paid%'
														THEN '<img height="16" width="16" title="Paid" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Paid.png"/>&nbsp-&nbspPaid' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Story%'
														THEN '<img height="16" width="16" title="Story" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Story.png"/>&nbsp-&nbspStory' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Sub-task%'
														THEN '<img height="16" width="16" title="Sub-task" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Sub-task.png"/>&nbsp-&nbspSub-task' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Sub-test%'
														THEN '<img height="16" width="16" title="Sub-test" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Sub-test.png"/>&nbsp-&nbspSub-test' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Suggestion%'
														THEN '<img height="16" width="16" title="Suggestion" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Suggestion.png"/>&nbsp-&nbspSuggestion' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Task%'
														THEN '<img height="16" width="16" title="Task" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Task.png"/>&nbsp-&nbspTask' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%Technical Debt%'
														THEN '<img height="16" width="16" title="Technical Debt" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/Technical Debt.png"/>&nbsp-&nbspTechnical Debt' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%UAP Automation%'
														THEN '<img height="16" width="16" title="UAP Automation" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/UAP Automation.png"/>&nbsp-&nbspUAP Automation' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%UAP Test Case%'
														THEN '<img height="16" width="16" title="UAP Test Case" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/UAP Test Case.png"/>&nbsp-&nbspUAP Test Case'
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%UAP Verification%'
														THEN '<img height="16" width="16" title="UAP Verification" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/UAP Verification.png"/>&nbsp-&nbspUAP Verification' 
													 WHEN JiraDetailToUpdate.strTypeIconUrl LIKE '%zOld%'
														THEN '<img height="16" width="16" title="zOld" src="./resources/images/icons/small/hdjiraicons/hdjiraissuetype/zOld.png"/>&nbsp-&nbspzOld' 
													 ELSE ''
												END
	,JiraDetailToUpdate.strJiraPriorityIconUrl = CASE WHEN JiraDetailToUpdate.strPriorityIconUrl LIKE '%Blocker%'
														THEN '<img height="16" width="16" title="Blocker" src="./resources/images/icons/small/hdjiraicons/hdjirapriority/Blocker.png"/>&nbsp-&nbspBlocker' 
													 WHEN JiraDetailToUpdate.strPriorityIconUrl LIKE '%Critical%'
														THEN '<img height="16" width="16" title="Critical" src="./resources/images/icons/small/hdjiraicons/hdjirapriority/Critical.png"/>&nbsp-&nbspCritical' 
													 WHEN JiraDetailToUpdate.strPriorityIconUrl LIKE '%Major%'
														THEN '<img height="16" width="16" title="Major" src="./resources/images/icons/small/hdjiraicons/hdjirapriority/Major.png"/>&nbsp-&nbspMajor' 
													 WHEN JiraDetailToUpdate.strPriorityIconUrl LIKE '%Minor%'
														THEN '<img height="16" width="16" title="Minor" src="./resources/images/icons/small/hdjiraicons/hdjirapriority/Minor.png"/>&nbsp-&nbspMinor' 
													 ELSE '' 
												END
    ,JiraDetailToUpdate.strJiraStatusIconUrl	= CASE   WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Open%'
															  THEN '<img height="16" width="16" title="Open" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Open.png"/>' 
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Closed%'
															  THEN '<img height="16" width="16" title="Closed" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Closed.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Unapproved%'
															  THEN '<img height="16" width="16" title="Unapproved" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Unapproved.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Coding%'
															  THEN '<img height="16" width="16" title="Coding" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Coding.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Investigating%'
															  THEN '<img height="16" width="16" title="Investigating" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Investigating.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Wait for Estimate%'
															  THEN '<img height="16" width="16" title="Wait for Estimate" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Wait for Estimate.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Wait for Funding%'
															  THEN '<img height="16" width="16" title="Wait for Funding" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Wait for Funding.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Spec Incomplete%'
															  THEN '<img height="16" width="16" title="Spec Incomplete" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Spec Incomplete.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Reopened%'
															  THEN '<img height="16" width="16" title="Reopened" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Reopened.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Resolved%'
															  THEN '<img height="16" width="16" title="Resolved" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Resolved.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Testing%'
															  THEN '<img height="16" width="16" title="Testing" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Testing.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Ready to Test%'
															  THEN '<img height="16" width="16" title="Ready to Test" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Ready to Test.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%To Do%'
															  THEN '<img height="16" width="16" title="To Do" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/To Do.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Passed%'
															  THEN '<img height="16" width="16" title="Passed" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Passed.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Backlog%'
															  THEN '<img height="16" width="16" title="Backlog" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Backlog.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Selected for Development%'
															  THEN '<img height="16" width="16" title="Selected for Development" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Selected for Development.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Failed%'
															  THEN '<img height="16" width="16" title="Failed" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Failed.png"/>'
														 WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Done%'
															  THEN '<img height="16" width="16" title="Done" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Done.png"/>'
														WHEN JiraDetailToUpdate.strStatusIconUrl LIKE '%Locked%'
															  THEN '<img height="16" width="16" title="Locked" src="./resources/images/icons/small/hdjiraicons/hdjirastatus/Locked.png"/>'
														 ELSE ''
													END 
													 + REPLACE(JiraDetailToUpdate.strStatusIconUrl, SUBSTRING(JiraDetailToUpdate.strStatusIconUrl, 0, CHARINDEX('&nbsp', JiraDetailToUpdate.strStatusIconUrl)), '')
	FROM tblHDTicketJIRAIssue TicketJIRAIssue
		INNER JOIN tblHDTicketJIRAIssue JiraDetailToUpdate
	ON JiraDetailToUpdate.intTicketJIRAIssueId = TicketJIRAIssue.intTicketJIRAIssueId
END
GO