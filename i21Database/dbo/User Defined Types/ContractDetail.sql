CREATE TYPE [dbo].[ContractDetail] AS TABLE
(
	intContractDetailId INT NOT NULL,
	intSplitFromId INT,
	intParentDetailId INT,
	ysnSlice BIT,
	intConcurrencyId INT NOT NULL,
	intContractHeaderId INT NOT NULL,
	intContractStatusId INT NULL,
	strFinancialStatus NVARCHAR(30) COLLATE Latin1_General_CI_AS NULL,
	intContractSeq INT NOT NULL,
	intCompanyLocationId INT NOT NULL,
	intShipToId INT,
	dtmStartDate DATETIME NOT NULL,
	dtmEndDate DATETIME NOT NULL,
	intFreightTermId INT NULL,
	intShipViaId INT NULL,	
	intItemContractId INT NULL,
	intItemBundleId INT NULL,
	intItemId INT NULL,
	strItemSpecification NVARCHAR(MAX) COLLATE Latin1_General_CI_AS NULL,
	intCategoryId INT NULL,
	dblQuantity NUMERIC(18, 6) NOT NULL,
	intItemUOMId INT NULL,	
	dblOriginalQty NUMERIC(18, 6) NULL, 
    dblBalance NUMERIC(18, 6) NULL, 
    dblIntransitQty NUMERIC(18, 6) NULL, 
    dblScheduleQty NUMERIC(18, 6) NULL, 
	dblBalanceLoad	NUMERIC(18, 6) NULL, 
	dblScheduleLoad	NUMERIC(18, 6) NULL, 
    dblShippingInstructionQty NUMERIC(18, 6) NULL, 
	dblNetWeight NUMERIC(18, 6) NULL, 
	intNetWeightUOMId INT NULL,	
	intUnitMeasureId INT NULL,
	intCategoryUOMId INT NULL, 	
	intNoOfLoad INT NULL, 
	dblQuantityPerLoad NUMERIC(18, 6) NULL,     
	intIndexId INT NULL, 
	dblAdjustment NUMERIC(18, 6) NULL, 
	intAdjItemUOMId INT NULL,    
	intPricingTypeId INT NULL,
	intFutureMarketId INT NULL,
	intFutureMonthId INT NULL,
	dblFutures NUMERIC(18, 6) NULL,
	dblBasis NUMERIC(18, 6) NULL,	
	dblOriginalBasis NUMERIC(18, 6) NULL,
	dblConvertedBasis NUMERIC(18, 6) NULL,
	intBasisCurrencyId INT,
	intBasisUOMId INT,
	dblFreightBasisBase NUMERIC(18, 6) NULL,
	intFreightBasisBaseUOMId INT,
	dblFreightBasis NUMERIC(18, 6) NULL,
	intFreightBasisUOMId INT,
	dblRatio NUMERIC(18, 6),
	dblCashPrice NUMERIC(18, 6) NULL,
	dblTotalCost NUMERIC(18, 6) NULL,
	intCurrencyId INT NULL,
	intPriceItemUOMId  INT NULL, 
	dblNoOfLots NUMERIC(18, 6) NULL,
	dtmLCDate DATETIME,
	dtmLastPricingDate DATETIME,
	dblConvertedPrice  NUMERIC(18, 6) NULL,
	intConvPriceCurrencyId INT,
	intConvPriceUOMId INT,	
	intMarketZoneId INT NULL,
	intDiscountTypeId INT NULL ,
	intDiscountId INT NULL,
	intDiscountScheduleId INT NULL,
	intDiscountScheduleCodeId INT NULL,
	intStorageScheduleRuleId INT NULL,
	intContractOptHeaderId INT NULL,
	strBuyerSeller NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
	intBillTo INT NULL,
	intFreightRateId INT NULL,
	strFobBasis NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
	intRailGradeId INT NULL,
	strRailRemark NVARCHAR(250) COLLATE Latin1_General_CI_AS NULL,
	strLoadingPointType NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
    intLoadingPortId INT NULL, 
	strDestinationPointType NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
    intDestinationPortId INT NULL, 
    strShippingTerm NVARCHAR(64) COLLATE Latin1_General_CI_AS NULL, 
    intShippingLineId INT NULL, 
	strVessel NVARCHAR(64) COLLATE Latin1_General_CI_AS NULL, 
    intDestinationCityId INT NULL, 
    intShipperId INT NULL, 
	strRemark NVARCHAR(MAX) COLLATE Latin1_General_CI_AS NULL, 
	intSubLocationId INT,
	intStorageLocationId INT,
	intPurchasingGroupId INT,
	intFarmFieldId INT NULL,
	intSplitId INT NULL,
	strGrade NVARCHAR(128) COLLATE Latin1_General_CI_AS NULL,
	strGarden NVARCHAR(128) COLLATE Latin1_General_CI_AS NULL,
	strVendorLotID NVARCHAR(100) COLLATE Latin1_General_CI_AS NULL,
	strInvoiceNo NVARCHAR(100) COLLATE Latin1_General_CI_AS NULL,
	strReference NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
	strERPPONumber NVARCHAR(100) COLLATE Latin1_General_CI_AS NULL,
	strERPItemNumber	NVARCHAR (100)  COLLATE Latin1_General_CI_AS,
	strERPBatchNumber	NVARCHAR (100)  COLLATE Latin1_General_CI_AS,
	intUnitsPerLayer INT NULL,
	intLayersPerPallet INT NULL,
	dtmEventStartDate DATETIME NULL,
	dtmPlannedAvailabilityDate DATETIME NULL,
	dtmUpdatedAvailabilityDate  DATETIME NULL,
	dtmM2MDate  DATETIME NULL,
	intBookId INT NULL,
	intSubBookId INT NULL,
	intContainerTypeId INT NULL,
	intNumberOfContainers INT NULL,
	intInvoiceCurrencyId INT NULL,
	dtmFXValidFrom  DATETIME NULL,
	dtmFXValidTo  DATETIME NULL,
	dblRate NUMERIC(18, 6) NULL,
	dblFXPrice NUMERIC(18, 6) NULL,
	ysnUseFXPrice BIT,
	intFXPriceUOMId INT NULL,
	strFXRemarks NVARCHAR(MAX) COLLATE Latin1_General_CI_AS NULL,
	dblAssumedFX NUMERIC(18, 6) NULL,
	strFixationBy NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
	strPackingDescription NVARCHAR(50) COLLATE Latin1_General_CI_AS NULL,
	dblYield NUMERIC(18, 6) NULL, 
	intCurrencyExchangeRateId INT NULL,
	intRateTypeId INT NULL,
    intCreatedById INT,
	dtmCreated DATETIME,
	intLastModifiedById INT,
	dtmLastModified DATETIME,
	ysnInvoice BIT NULL DEFAULT 0, 
	ysnProvisionalInvoice BIT NULL DEFAULT 0, 
	ysnQuantityFinal BIT NULL DEFAULT 0, 
	intProducerId INT NULL,
	ysnClaimsToProducer BIT,
	ysnRiskToProducer BIT,
	ysnBackToBack BIT,
    dblAllocatedQty NUMERIC(18, 6) NULL, 
    dblReservedQty NUMERIC(18, 6) NULL, 
    dblAllocationAdjQty NUMERIC(18, 6) NULL, 
    dblInvoicedQty NUMERIC(18, 6) NULL, 
	ysnPriceChanged BIT,
	intContractDetailRefId INT,
	ysnStockSale BIT,
	strCertifications NVARCHAR(MAX) COLLATE Latin1_General_CI_AS NULL,
    ysnSplit BIT,
    ysnProvisionalPNL BIT NOT NULL DEFAULT 0, 
    ysnFinalPNL BIT NOT NULL DEFAULT 0, 
    dtmProvisionalPNL DATETIME NULL,
    dtmFinalPNL DATETIME NULL,
	intPricingStatus INT,
	dtmStartDateUTC DATETIME NULL,
	-- Reference Pricing
	dblRefFuturesQty NUMERIC(18, 6) NULL,
	intRefFuturesItemUOMId INT NULL,
	intRefFuturesCurrencyId INT NULL,
	intRefFuturesMarketId INT NULL,
	intRefFuturesMonthId INT NULL,
	ysnAutoShortClosed BIT NULL,

	-- MISC fields
	strRowState NVARCHAR(50) NOT NULL,
	ysnPricedDivided BIT NULL

)