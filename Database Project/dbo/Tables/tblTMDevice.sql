CREATE TABLE [dbo].[tblTMDevice] (
    [intConcurrencyID]         INT             CONSTRAINT [DEF_tblTMDevice_intConcurrencyID] DEFAULT ((0)) NULL,
    [intDeviceID]              INT             IDENTITY (1, 1) NOT NULL,
    [strSerialNumber]          NVARCHAR (50)   COLLATE Latin1_General_CI_AS CONSTRAINT [DEF_tblTMDevice_strSerialNumber] DEFAULT ('') NULL,
    [strManufacturerID]        NVARCHAR (50)   COLLATE Latin1_General_CI_AS CONSTRAINT [DEF_tblTMDevice_strManufacturerID] DEFAULT ('') NULL,
    [strManufacturerName]      NVARCHAR (50)   COLLATE Latin1_General_CI_AS CONSTRAINT [DEF_tblTMDevice_strManufacturerName] DEFAULT ('') NULL,
    [strModelNumber]           NVARCHAR (50)   COLLATE Latin1_General_CI_AS CONSTRAINT [DEF_tblTMDevice_strModelNumber] DEFAULT ('') NULL,
    [strBulkPlant]             NVARCHAR (50)   COLLATE Latin1_General_CI_AS CONSTRAINT [DEF_tblTMDevice_strBulkPlant] DEFAULT ('') NULL,
    [strDescription]           NVARCHAR (200)  COLLATE Latin1_General_CI_AS CONSTRAINT [DEF_tblTMDevice_strDescription] DEFAULT ('') NULL,
    [strOwnership]             NVARCHAR (50)   COLLATE Latin1_General_CI_AS CONSTRAINT [DEF_tblTMDevice_strOwnership] DEFAULT ('') NULL,
    [strAssetNumber]           NVARCHAR (50)   COLLATE Latin1_General_CI_AS CONSTRAINT [DEF_tblTMDevice_strAssetNumber] DEFAULT ('') NULL,
    [dtmPurchaseDate]          DATETIME        CONSTRAINT [DEF_tblTMDevice_dtmPurchaseDate] DEFAULT ((0)) NULL,
    [dblPurchasePrice]         NUMERIC (18, 6) CONSTRAINT [DEF_tblTMDevice_dblPurchasePrice] DEFAULT ((0)) NULL,
    [dtmManufacturedDate]      DATETIME        CONSTRAINT [DEF_tblTMDevice_dtmManufacturedDate] DEFAULT ((0)) NULL,
    [strComment]               NVARCHAR (300)  COLLATE Latin1_General_CI_AS CONSTRAINT [DEF_tblTMDevice_strComment] DEFAULT ('') NULL,
    [ysnUnderground]           BIT             CONSTRAINT [DEF_tblTMDevice_ysnUnderground] DEFAULT ((0)) NOT NULL,
    [intTankSize]              INT             CONSTRAINT [DEF_tblTMDevice_intTankSize] DEFAULT ((0)) NOT NULL,
    [intTankCapacity]          INT             CONSTRAINT [DEF_tblTMDevice_intTankCapacity] DEFAULT ((0)) NOT NULL,
    [dblTankReserve]           NUMERIC (18, 6) CONSTRAINT [DF_tblTMDevice_dblTankReserve] DEFAULT ((0)) NULL,
    [dblEstimatedGalTank]      NUMERIC (18, 6) CONSTRAINT [DEF_tblTMDevice_dblEstimatedGalTank] DEFAULT ('0') NULL,
    [intMeterCycle]            INT             CONSTRAINT [DEF_tblTMDevice_intMeterCycle] DEFAULT ((0)) NOT NULL,
    [intDeviceTypeID]          INT             CONSTRAINT [DEF_tblTMDevice_intDeviceTypeID] DEFAULT ((0)) NULL,
    [intLeaseID]               INT             CONSTRAINT [DEF_tblTMDevice_intLeaseID] DEFAULT ((0)) NULL,
    [intDeployedStatusID]      INT             CONSTRAINT [DEF_tblTMDevice_intDeployedStatusID] DEFAULT ((0)) NULL,
    [intParentDeviceID]        INT             CONSTRAINT [DEF_tblTMDevice_intParentDeviceID] DEFAULT ((0)) NULL,
    [intInventoryStatusTypeID] INT             CONSTRAINT [DEF_tblTMDevice_intInventoryStatusTypeID] DEFAULT ((0)) NULL,
    [intTankTypeID]            INT             CONSTRAINT [DEF_tblTMDevice_intTankTypeID] DEFAULT ((0)) NULL,
    [intMeterTypeID]           INT             CONSTRAINT [DEF_tblTMDevice_intMeterTypeID] DEFAULT ((0)) NULL,
    [intRegulatorTypeID]       INT             CONSTRAINT [DEF_tblTMDevice_intRegulatorTypeID] DEFAULT ((0)) NULL,
    [intLinkedToTankID]        INT             CONSTRAINT [DEF_tblTMDevice_intLinkedToTankID] DEFAULT ((0)) NULL,
    [strMeterStatus]           NVARCHAR (50)   COLLATE Latin1_General_CI_AS CONSTRAINT [DEF_tblTMDevice_strMeterStatus] DEFAULT ('') NULL,
    [dblMeterReading]          NUMERIC (18, 6) CONSTRAINT [DEF_tblTMDevice_dblMeterReading] DEFAULT ((0)) NULL,
    [ysnAppliance]             BIT             CONSTRAINT [DEF_tblTMDevice_ysnAppliance] DEFAULT ((0)) NOT NULL,
    [intApplianceTypeID]       INT             CONSTRAINT [DEF_tblTMDevice_intApplianceTypeID] DEFAULT ((0)) NULL,
    CONSTRAINT [PK_tblTMDevice] PRIMARY KEY CLUSTERED ([intDeviceID] ASC),
    CONSTRAINT [FK_tblTMDevice_tblTMApplianceType] FOREIGN KEY ([intApplianceTypeID]) REFERENCES [dbo].[tblTMApplianceType] ([intApplianceTypeID]),
    CONSTRAINT [FK_tblTMDevice_tblTMDeployedStatus] FOREIGN KEY ([intDeployedStatusID]) REFERENCES [dbo].[tblTMDeployedStatus] ([intDeployedStatusID]) ON DELETE SET NULL,
    CONSTRAINT [FK_tblTMDevice_tblTMDevice] FOREIGN KEY ([intParentDeviceID]) REFERENCES [dbo].[tblTMDevice] ([intDeviceID]),
    CONSTRAINT [FK_tblTMDevice_tblTMDeviceType] FOREIGN KEY ([intDeviceTypeID]) REFERENCES [dbo].[tblTMDeviceType] ([intDeviceTypeID]),
    CONSTRAINT [FK_tblTMDevice_tblTMInventoryStatus] FOREIGN KEY ([intInventoryStatusTypeID]) REFERENCES [dbo].[tblTMInventoryStatusType] ([intInventoryStatusTypeID]) ON UPDATE CASCADE,
    CONSTRAINT [FK_tblTMDevice_tblTMLease] FOREIGN KEY ([intLeaseID]) REFERENCES [dbo].[tblTMLease] ([intLeaseID]) ON DELETE SET NULL,
    CONSTRAINT [FK_tblTMDevice_tblTMMeterType] FOREIGN KEY ([intMeterTypeID]) REFERENCES [dbo].[tblTMMeterType] ([intMeterTypeID]),
    CONSTRAINT [FK_tblTMDevice_tblTMRegulatorType] FOREIGN KEY ([intRegulatorTypeID]) REFERENCES [dbo].[tblTMRegulatorType] ([intRegulatorTypeID]),
    CONSTRAINT [FK_tblTMDevice_tblTMTankType] FOREIGN KEY ([intTankTypeID]) REFERENCES [dbo].[tblTMTankType] ([intTankTypeID])
);

