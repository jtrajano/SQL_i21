/**
 * Created by CCallado on 1/19/2016.
 */


StartTest (function (t) {

    var engine = new iRely.TestEngine();
    engine.start(t)

        .login('irelyadmin', 'i21by2015', '01')
        .addFunction(function(next){t.diag("Scenario 1. Open screen and check default controls' state"); next();}).wait(100)
        .expandMenu('Inventory').wait(200)
        .openScreen('Categories').wait(3000)
        .checkScreenWindow({alias: 'icitems',title: 'Category',collapse: true,maximize: true,minimize: false,restore: false,close: true}).wait(1000)
        .checkSearchToolbarButton({new: true, view: true, openselected: false, openall: false, refresh: true, export: true, close: true}).wait(100)
        .clickButton('#btnNew').wait(200)

        /*Add Category - Inventory*/
        .addFunction(function(next){t.diag("Scenario 2. Create Inventory Type Category"); next();}).wait(100)
        .enterData('#txtCategoryCode','Test Inventory Category')
        .enterData('#txtDescription','Test Description')
        .selectComboRowByIndex('#cboInventoryType',1).wait(200)
        .selectComboRowByIndex('#cboCostingMethod',0,100)
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 0,'strUnitMeasure','LB', 300,'strUnitMeasure').wait(100)
        .clickButton('#btnSave')
        .checkStatusMessage('Saved')
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 1,'strUnitMeasure','50 lb bag', 300,'strUnitMeasure').wait(100)
        .clickGridCheckBox('#grdUnitOfMeasure', 'strUnitMeasure', 'LB', 'ysnStockUnit', true).wait(100)
        .enterData('#txtStandardQty','100000')
        .selectComboRowByFilter('#cboStandardUOM','LB',500, 'cboStandardUOM').wait(100)
        .selectGridComboRowByFilter('#grdTax', 0,'strTaxClass','State Sales Tax (SST)', 300,'strTaxClass').wait(100)
        .clickButton('#btnSave')
        .clickButton('#btnClose')

        /*Add Category - Bundle*/
        .addFunction(function(next){t.diag("Scenario 3. Create Bundle Type Category"); next();}).wait(100)
        .clickButton('#btnNew').wait(200)
        .enterData('#txtCategoryCode','Test Bundle Category')
        .enterData('#txtDescription','Test Description')
        .selectComboRowByIndex('#cboInventoryType',0).wait(200)
        .selectComboRowByIndex('#cboCostingMethod',0,100)
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 0,'strUnitMeasure','LB', 300,'strUnitMeasure').wait(100)
        .clickButton('#btnSave')
        .checkStatusMessage('Saved')
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 1,'strUnitMeasure','50 lb bag', 300,'strUnitMeasure').wait(100)
        .clickGridCheckBox('#grdUnitOfMeasure', 'strUnitMeasure', 'LB', 'ysnStockUnit', true).wait(100)
        .enterData('#txtStandardQty','100000')
        .selectComboRowByFilter('#cboStandardUOM','LB',500, 'cboStandardUOM').wait(100)
        .selectGridComboRowByFilter('#grdTax', 0,'strTaxClass','State Sales Tax (SST)', 300,'strTaxClass').wait(100)
        .clickButton('#btnSave')
        .clickButton('#btnClose')

        /*Add Category - Kit*/
        .addFunction(function(next){t.diag("Scenario 4. Create Kit Type Category"); next();}).wait(100)
        .clickButton('#btnNew').wait(200)
        .enterData('#txtCategoryCode','Test Kit Category')
        .enterData('#txtDescription','Test Description')
        .selectComboRowByIndex('#cboInventoryType',2).wait(200)
        .selectComboRowByIndex('#cboCostingMethod',0,100)
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 0,'strUnitMeasure','LB', 300,'strUnitMeasure').wait(100)
        .clickButton('#btnSave')
        .checkStatusMessage('Saved')
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 1,'strUnitMeasure','50 lb bag', 300,'strUnitMeasure').wait(100)
        .clickGridCheckBox('#grdUnitOfMeasure', 'strUnitMeasure', 'LB', 'ysnStockUnit', true).wait(100)
        .enterData('#txtStandardQty','100000')
        .selectComboRowByFilter('#cboStandardUOM','LB',500, 'cboStandardUOM').wait(100)
        .selectGridComboRowByFilter('#grdTax', 0,'strTaxClass','State Sales Tax (SST)', 300,'strTaxClass').wait(100)
        .clickButton('#btnSave')
        .clickButton('#btnClose')

        /*Add Category - Finished Good*/
        .addFunction(function(next){t.diag("Scenario 5. Create Finished Good Type Category"); next();}).wait(100)
        .clickButton('#btnNew').wait(200)
        .enterData('#txtCategoryCode','Test Finished Good Category')
        .enterData('#txtDescription','Test Description')
        .selectComboRowByIndex('#cboInventoryType',3).wait(200)
        .selectComboRowByIndex('#cboCostingMethod',0,100)
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 0,'strUnitMeasure','LB', 300,'strUnitMeasure').wait(100)
        .clickButton('#btnSave')
        .checkStatusMessage('Saved')
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 1,'strUnitMeasure','50 lb bag', 300,'strUnitMeasure').wait(100)
        .clickGridCheckBox('#grdUnitOfMeasure', 'strUnitMeasure', 'LB', 'ysnStockUnit', true).wait(100)
        .enterData('#txtStandardQty','100000')
        .selectComboRowByFilter('#cboStandardUOM','LB',500, 'cboStandardUOM').wait(100)
        .selectGridComboRowByFilter('#grdTax', 0,'strTaxClass','State Sales Tax (SST)', 300,'strTaxClass').wait(100)
        .clickButton('#btnSave')
        .clickButton('#btnClose')

        /*Add Category - Non Inventory*/
        .addFunction(function(next){t.diag("Scenario 6. Create Non Inventory Type Category"); next();}).wait(100)
        .clickButton('#btnNew').wait(200)
        .enterData('#txtCategoryCode','Test Non Inventory Category')
        .enterData('#txtDescription','Test Description')
        .selectComboRowByIndex('#cboInventoryType',4).wait(200)
        .selectComboRowByIndex('#cboCostingMethod',0,100)
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 0,'strUnitMeasure','LB', 300,'strUnitMeasure').wait(100)
        .clickButton('#btnSave')
        .checkStatusMessage('Saved')
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 1,'strUnitMeasure','50 lb bag', 300,'strUnitMeasure').wait(100)
        .clickGridCheckBox('#grdUnitOfMeasure', 'strUnitMeasure', 'LB', 'ysnStockUnit', true).wait(100)
        .enterData('#txtStandardQty','100000')
        .selectComboRowByFilter('#cboStandardUOM','LB',500, 'cboStandardUOM').wait(100)
        .selectGridComboRowByFilter('#grdTax', 0,'strTaxClass','State Sales Tax (SST)', 300,'strTaxClass').wait(100)
        .clickButton('#btnSave')
        .clickButton('#btnClose')

        /*Add Category - Other Charge*/
        .addFunction(function(next){t.diag("Scenario 7. Create Other Charge Type Category"); next();}).wait(100)
        .clickButton('#btnNew').wait(200)
        .enterData('#txtCategoryCode','Test Other Charge Category')
        .enterData('#txtDescription','Test Description')
        .selectComboRowByIndex('#cboInventoryType',5).wait(200)
        .selectComboRowByIndex('#cboCostingMethod',0,100)
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 0,'strUnitMeasure','LB', 300,'strUnitMeasure').wait(100)
        .clickButton('#btnSave')
        .checkStatusMessage('Saved')
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 1,'strUnitMeasure','50 lb bag', 300,'strUnitMeasure').wait(100)
        .clickGridCheckBox('#grdUnitOfMeasure', 'strUnitMeasure', 'LB', 'ysnStockUnit', true).wait(100)
        .enterData('#txtStandardQty','100000')
        .selectComboRowByFilter('#cboStandardUOM','LB',500, 'cboStandardUOM').wait(100)
        .selectGridComboRowByFilter('#grdTax', 0,'strTaxClass','State Sales Tax (SST)', 300,'strTaxClass').wait(100)
        .clickButton('#btnSave')
        .clickButton('#btnClose')

        /*Add Category - Raw Material*/
        .addFunction(function(next){t.diag("Scenario 7. Create Raw Material Type Category"); next();}).wait(100)
        .clickButton('#btnNew').wait(200)
        .enterData('#txtCategoryCode','Test Raw Material Category')
        .enterData('#txtDescription','Test Description')
        .selectComboRowByIndex('#cboInventoryType',6).wait(200)
        .selectComboRowByIndex('#cboCostingMethod',0,100)
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 0,'strUnitMeasure','LB', 300,'strUnitMeasure').wait(100)
        .clickButton('#btnSave')
        .checkStatusMessage('Saved')
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 1,'strUnitMeasure','50 lb bag', 300,'strUnitMeasure').wait(100)
        .clickGridCheckBox('#grdUnitOfMeasure', 'strUnitMeasure', 'LB', 'ysnStockUnit', true).wait(100)
        .enterData('#txtStandardQty','100000')
        .selectComboRowByFilter('#cboStandardUOM','LB',500, 'cboStandardUOM').wait(100)
        .selectGridComboRowByFilter('#grdTax', 0,'strTaxClass','State Sales Tax (SST)', 300,'strTaxClass').wait(100)
        .clickButton('#btnSave')
        .clickButton('#btnClose')

        /*Add Category - Service*/
        .addFunction(function(next){t.diag("Scenario 8. Create Service Type Category"); next();}).wait(100)
        .clickButton('#btnNew').wait(200)
        .enterData('#txtCategoryCode','Test Service Category')
        .enterData('#txtDescription','Test Description')
        .selectComboRowByIndex('#cboInventoryType',7).wait(200)
        .selectComboRowByIndex('#cboCostingMethod',0,100)
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 0,'strUnitMeasure','LB', 300,'strUnitMeasure').wait(100)
        .clickButton('#btnSave')
        .checkStatusMessage('Saved')
        .selectGridComboRowByFilter('#grdUnitOfMeasure', 1,'strUnitMeasure','50 lb bag', 300,'strUnitMeasure').wait(100)
        .clickGridCheckBox('#grdUnitOfMeasure', 'strUnitMeasure', 'LB', 'ysnStockUnit', true).wait(100)
        .enterData('#txtStandardQty','100000')
        .selectComboRowByFilter('#cboStandardUOM','LB',500, 'cboStandardUOM').wait(100)
        .selectGridComboRowByFilter('#grdTax', 0,'strTaxClass','State Sales Tax (SST)', 300,'strTaxClass').wait(100)
        .clickButton('#btnSave')
        .clickButton('#btnClose')

        /*Add Category - Software*/
        .addFunction(function(next){t.diag("Scenario 9. Create Software Type Category"); next();}).wait(100)
        .clickButton('#btnNew').wait(200)
        .enterData('#txtCategoryCode','Test Software Category')
        .enterData('#txtDescription','Test Description')
        .selectComboRowByIndex('#cboInventoryType',8).wait(200)
        .selectComboRowByIndex('#cboCostingMethod',0,100)
        .enterData('#txtStandardQty','100000')
        .selectGridComboRowByFilter('#grdTax', 0,'strTaxClass','State Sales Tax (SST)', 300,'strTaxClass').wait(100)
        .clickButton('#btnSave')
        .clickButton('#btnClose')


        .done()
});

